generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Usuario {
  cpf           String   @id @db.VarChar(11)
  nome          String   @db.VarChar(100)
  email         String   @unique @db.VarChar(100)
  senha         String   @db.VarChar(255)
  dataCadastro  DateTime @default(now()) @map("data_cadastro")

  funcionario   Funcionario?
  tutor         Tutor?

  @@map("usuario")
}

model Funcionario {
  cpf                   String   @id @db.VarChar(11)
  cargo                 String   @db.VarChar(50)
  registroProfissional  String?  @map("registro_profissional") @db.VarChar(50)
  status                String   @default("ativo") @db.VarChar(20)
  nivelAcesso           Int      @default(1) @map("nivel_acesso")

  usuario               Usuario  @relation(fields: [cpf], references: [cpf], onDelete: Cascade)

  @@map("funcionario")
}

model Tutor {
  cpf       String   @id @db.VarChar(11)
  telefone  String?  @db.VarChar(20)
  endereco  String?  @db.VarChar(200)

  usuario   Usuario  @relation(fields: [cpf], references: [cpf], onDelete: Cascade)

  @@map("tutor")
}

